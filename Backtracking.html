<h1>Backtracking</h1>
<p>Copyright &#169;2002 by David Matusze</p>
<p>The usual scenario is that you are faced with a number of options, and you must choose one of these. After you make your choice you will get a new set of options; just what set of options you get depends on what choice you made. This procedure is repeated over and over until you reach a final state. If you made a good sequence of choices, your final state is a goal state; if you didn't, it isn't.</p>
<p>Conceptually, you start at the root of a tree; the tree probably has some good leaves and some bad leaves, though it may be that the leaves are all good or all bad. You want to get to a good leaf. At each node, beginning with the root, you choose one of its children to move to, and you keep this up until you get to a leaf.</p>
<p>This needs an example</p>

<center><img src="treesearch.gif" height="250px" width="300px" alt="Tree Image"></center>
<ol>
    <li>Point1</li>
    <li>Point2</li>
    <li>Point3</li>
    <li>Point4</li>
    <li>Point5</li>
</ol>
<p>In this example we drew a picture of a tree. The tree is an abstract model of the possible sequences of choices we could make. There is also a data structure called a tree, but usually we don't have a data structure to tell us what choices we have. (If we do have an actual tree data structure, backtracking on it is called <em>depth-first tree searching.</em>)</p>

<H2>The backtracking algorithm</H2>
<p>Here is the algorithm (in pseudocode) for doing backtracking from a given node n:</p>
<pre style="color:#660000">
    boolean solve(Node n) {
        if n is a leaf node {
            if the leaf is a goal node, return true
            else return false
        } else {
            for each child c of n {
                if solve(c) succeeds, return true
            }
            return false
        }
    }
</pre>

<p>And finally, here's the recursive backtracking routine to "solve" the binary tree by finding a goal node</p>
<pre style="color: #505050">
    static boolean solvable(BinaryTree node) {
    <font color="#0000ff">/* 1 */</font>if (node == null) return false;
    <font color="#0000ff">/* 2 */</font>if (node.isGoalNode) return true;
    <font color="#0000ff">/* 3 */</font>if (solvable(node.leftChild)) return true;
    <font color="#0000ff">/* 4 */</font>if (solvable(node.rightChild)) return true;
    <font color="#0000ff">/* 5 */</font>  return false;
    }
</pre>

<hr size="20px">
<p>Adding tables</p>
<table border="1" align="center" cellpadding="5">
    <tbody>
        <tr>
            <td>&nbsp;</td>
            <td bgcolor="grey">2 by 3 map</td>
            <td bgcolor="grey">3 by 3 map</td>
            <td bgcolor="grey">3 by 4 map</td>
        </tr>
        <tr>
            <td bgcolor="grey">Method 1:</td>
            <td>60 ms.</td>
            <td>940 ms.</td>
            <td>60530 ms.</td>
        </tr>
        <tr>
            <td bgcolor="grey">Method 2:</td>
            <td>0 ms.</td>
            <td>0 ms.</td>
            <td>0 ms.</td>
        </tr>
    </tbody>
</table>

<h2>Example: Cindy's Puzzle</h2>
<table bgcolor="#dddddd" align="center" border="2" cellpadding="5">
    <tr>
        <td width="44"><img src="blackball.jpg" height="50" width="50"></td>
        <td width="44"><img src="blackball.jpg" height="50" width="50"></td>
        <td width="44">&nbsp;</td>
        <td width="44"><img src="whiteball.jpg" height="50" width="50"></td>
        <td width="44"><img src="whiteball.jpg" height="50" width="50"></td>
    </tr>
</table>

<p>The goal is to reverse the positions of the marbles:</p>

<table align="center" cellpadding="5">
    <tr>
        <td><b>Starting position</b></td>
        <td>
            <table border="2" cellpadding="5" bgcolor="#dddddd">
                <tr>
                    <td width="44"><img src="blackball.jpg" height="50" width="50"></td>
                    <td width="44"><img src="blackball.jpg" height="50" width="50"></td>
                    <td width="44">&nbsp;</td>
                    <td width="44"><img src="whiteball.jpg" height="50" width="50"></td>
                    <td width="44"><img src="whiteball.jpg" height="50" width="50"></td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td><b>Black moves ahead:</b></td>
        <td>
            <table border="2" cellpadding="5" bgcolor="#dddddd">
                <tr>
                    <td width="44"><img src="blackball.jpg" height="50" width="50"></td>
                    <td width="44">&nbsp;</td>
                    <td width="44"><img src="blackball.jpg" height="50" width="50"></td>
                    <td width="44"><img src="whiteball.jpg" height="50" width="50"></td>
                    <td width="44"><img src="whiteball.jpg" height="50" width="50"></td>
                </tr>
            </table>
        </td>
    </tr>
    <TR>
        <td><b>White jumps:</b></td>
        <td>
            <table bgcolor="#dddddd" border="1" cellpadding="5">
                <tr>
                    <td width="44"><img src="blackball.jpg" height="50" width="50"></td>
                    <td width="44"><img src="whiteball.jpg" height="50" width="50"></td>
                    <td width="44"><img src="blackball.jpg" height="50" width="50"></td>
                    <td width="44">&nbsp;</td>
                    <td width="44"><img src="whiteball.jpg" height="50" width="50"></td>      
                </tr>
            </table>
        </td>
    </TR>
</table>

<pre style="color:#660000">
    <i><font color="#0000ff">15.</font></i>
    <b><font color="#0000ff">WHITE WHITE WHITE _____ BLACK BLACK BLACK</font></b>
    <i>15.</i>
    <b>WHITE WHITE WHITE BLACK _____ BLACK BLACK</b>
    <i>14.</i>
    <b>WHITE WHITE _____ BLACK WHITE BLACK BLACK</b>
</pre>

<form action="intro.html">
    <label>Name</label>
    <input type="text" placeholder="Name">
    <input type="Email" placeholder="Email id">
    <input type="password" placeholder="Password">
    <input type="submit">
</form>
